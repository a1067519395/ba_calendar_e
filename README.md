# BA_calendar_e
基于cqhttp及kumiao，支持私聊/群聊/qq频道，碧蓝档案/蓝色档案图形化日程表，wiki查询，模拟抽卡等功能
本插件采用 GPL-3.0 license 协议开源
# 源码食用
本插件使用易语言编写，版本为5.9.<br>
源码所使用的模块同时随源码放出<br>
线程时钟论坛地址：https://bbs.125.la/forum.php?mod=viewthread&tid=14458191<br>
Gdi内存画板论坛地址：https://bbs.125.la/forum.php?mod=viewthread&tid=14696088<br>
# 插件食用方法 
插件指南：https://www.kancloud.cn/staytomorrow/ba_calendar<br>
遇见bug可进群反馈<br>
由于作者懒狗，获取源码可发送邮件至staytomorrow#qq.com<br>
# 设置界面
![image](https://user-images.githubusercontent.com/20775434/167650187-e36b1680-de55-45d6-b3e5-9a44f65bab07.png)
（如果不需要定时推送，请将推送群号和机器人留空即可，默认推送时间为18点）
# 指令
## 指令介绍
#### 普通菜单
|   指令名称  |指令介绍    |示例     | 
| --- | --- |--- |
|ba菜单|获取机器人菜单|
|  ba十连  |   此命令为模拟十连抽卡命令，命令格式为ba十连+卡池名称*  |   ba十连爱丽丝 或 ba十连 爱丽丝 
|  ba一井  |  仅限群消息使用  |   ba一井爱丽丝  或 ba一井 爱丽丝
|  ba卡池列表 |   获取当前机器人存在的卡池名称，在抽卡时使用  |     
|  ba抽卡数据 |  获取本人当天抽卡数据（每日4点更新）   |     
|  ba日服新闻  |  获取日服新闻列表   |     
| ba服务器状态  | 获取游戏服务器当前状态    |     
|  ba总力战一图流 | 获取日服总力战一图流    |     
| ba总力战一图流国际服  |  获取日服总力战一图流     |     
|ba日程表|获取日服日程表|
|ba日程表国际服|获取国际服日程表
|ba猜老婆|开启猜老婆功能|
|换图|当您正在猜老婆的时候，您可以使用此指令更换一张新图出来，具体情况依管理员设定而定|
|ba好感度|查询您当前所有角色的好感度，好感度可通过猜老婆功能获取|
|bawiki详细信息|查询角色的详细信息|bawiki详细信息白子
|bawiki面板|查询角色面板（LV.80）|bawiki面板白子
|bawiki技能|查询角色技能信息|bawiki技能白子
<br>
*：当开启不同设置时指令格式会有所不同

*****
#### 管理菜单
|  指令名称   |  指令介绍   | 示例 |
| --- | --- |---
|ba管理菜单|获取机器人管理菜单|
|ba添加推送群号     |   添加指定群允许被定时推送日程表  |ba添加推送群号114514
|ba移除推送群号|将指定群从定时推送日程表中删除|ba移除推送群号114514
|ba更改推送时间|更改定时推送日程表的时间|ba更改推送时间19（将日程表的推送时间设定在每日19点）
|ba更换总力战图片日服|更换日服总力战一图流的图片（仅限总力战数据来源为本地获取）|ba更换总力战图片日服+图片（注意图片和命令应在同一条消息内）
|ba更换总力战图片国际服|更换国际服总力战一图流图片|同上
|ba更换嘲讽图片|更换二星保底特殊提醒图片|ba更换嘲讽图片+图片（要求同上）
|ba更新学生wiki数据|更新学生wiki数据

#### 频道相关
**由于QQ频道的特殊性，频道数据与群数据不互通，指令也会有所差别**
普通菜单：QQ频道中不能使用ba一井功能，其他正常
管理菜单：管理命令完全不同，命令列表如下
|  指令名称   |  指令介绍   | 示例 |
| --- | --- |---
|ba管理菜单|获取机器人管理菜单|
| ba频道信息    |获取当前主频道id与子频道id以及个人id  （此命令无需管理员权限）   |
|ba绑定频道|允许机器人在此频道发言|
|ba解绑频道|不允许机器人在此频道发言|
|ba开启日程表推送|允许机器人在此频道内定时推送日服日程表|
|ba关闭日程表推送|禁止机器人在此频道内定时推送日服日程表|
|ba更改推送时间|介绍同管理菜单|ba更改推送时间19
|ba更新学生wiki数据|更新学生wiki数据


## 示例
>  ba十连+卡池名称（为空则默认为常驻池子）


![image](https://user-images.githubusercontent.com/20775434/167645774-b5098145-0cb8-4c01-a5e0-e84f9b29d58f.png)

>  ba卡池列表

列出所有卡池  
![image](https://user-images.githubusercontent.com/20775434/167646015-256a53a1-8c6a-4a61-8087-b7346d118491.png)

>  ba抽卡数据

列出你的抽卡数据<br>
![image](https://user-images.githubusercontent.com/20775434/167646201-d6d3a73b-f8d6-4df5-8a39-3a5c4d1c84b7.png)

>  ba总力战一图流

总力战一图流<br>
![image](https://user-images.githubusercontent.com/20775434/167646506-d891c4cb-3c57-4f3e-9f85-ce40876a9137.png)
<br>
（这个功能的实现有点暴力，借鉴了同类插件的获取方法，但是我用的是nga的数据，获取的图片可能有误）
>  ba时刻表

推送活动，来源bwiki<br>

![LO3TDU9U(Q9FVHJ3C5LP6 W](https://user-images.githubusercontent.com/20775434/167648768-e19f1e03-ca6b-46bd-a7ba-13955f302e8f.png)


